// seven uses:
// options.cols - number of cols
// options.rows - number of rows
// options.duration
// options.blur - level of blur (default = 50)
// options.distance - distance of scattering (default = 20)
function ws_seven(D,M,v){function E(a,b){return Math.abs((b%2?1:0)+(b-b%2)/2-a)/b}function aa(a,b,d,f){b=b>=f?f/b:1;a=a>=d?d/a:1;return{l:a,t:b,m:Math.min(a,b)}}function ba(a,b){var d=0,f;for(f in a)(function(a,f){var m=f[a];wowAnimate(m.item,m.begin,m.end,m.duration,m.delay,m.easing,function(){m.callback&&m.callback();d++;d==f.length&&b&&b()})})(f,a)}function ca(N,b,d,C,L){var l=z.width(),m=z.height(),h=n*l/a,Q=n*m/c,v=H*(C?4:5)/(a*c),e=C?"easeInExpo":"easeOutQuart",k=B.h+B.t-m/c,t=B.w+B.l-l/a,A=
z.offset().top+z.height(),p=z.offset().left+z.width();k<A&&(k=A);t<p&&(t=p);var u=[];f(N).each(function(b){var r=b%a,w=Math.floor(b/a);b=.2*H*(45*E(r,a)+4*w)/(a*c);var N=z.offset().left+B.l+h*r-l*n/2+h,x=z.offset().top+B.t+Q*w-m*n/2+Q,q=aa(N,x,t,k);if(D.support.transform)N={opacity:1,translate:[l*r/a,m*w/c,0],scale:1,width:l/a,height:m/c,zIndex:Math.ceil(100-100*E(r,a))},x={opacity:0,translate:[(h*r-l*n/2.115)*q.l,(Q*w-m*n/2.115)*q.t,0],scale:n*q.m,width:l/a,height:m/c,zIndex:Math.ceil(100-100*E(r,
a))},f(this).find("img").css({transform:"translate3d("+(-l*r/a+d.marginLeft)+"px,"+(-m*w/c+d.marginTop)+"px,0px)",width:d.width,height:d.height});else var N={opacity:1,left:l*r/a,top:m*w/c,width:l/a,height:m/c,zIndex:Math.ceil(100-100*E(r,a))},x={opacity:0,left:(h*r-l*n/2)*q.l,top:(Q*w-m*n/2)*q.t,width:h*q.m,height:Q*q.m},p={left:-(l*r/a)+d.marginLeft,top:-(m*w/c)+d.marginTop,width:d.width,height:d.height},L={left:-n*(l/a*r-d.marginLeft)*q.m,top:-n*(m/c*w-d.marginTop)*q.m,width:n*d.width*q.m,height:n*
d.height*q.m};C||(r=N,N=x,x=r,r=p,p=L,L=r);u.push({item:f(this).show(),begin:N,end:x,easing:e,delay:b,duration:v,callback:C?function(){this.item.hide()}:0});p&&u.push({item:f(this).find("img"),begin:p,end:L,easing:e,delay:b,duration:v})});C&&(f(b).each(function(b){var e=b%a;b=Math.floor(b/a);var h=.2*H+.15*H*(35*E(e,a)+4*b)/(a*c),k=4*H/(a*c);if(D.support.transform){var N={opacity:0,translate:[l/2,m/2,0],scale:0,width:l/a,height:m/c,zIndex:Math.ceil(100-100*E(e,a))},q={opacity:1,translate:[l*e/a,m*
b/c,0],scale:1,width:l/a,height:m/c,zIndex:Math.ceil(100-100*E(e,a))};f(this).find("img").css({transform:"translate3d("+(-l*e/a+d.marginLeft)+"px,"+(-m*b/c+d.marginTop)+"px,0px)",width:d.width,height:d.height})}else var N={left:l/2,top:m/2,width:0,height:0,zIndex:Math.ceil(100-100*E(e,a))},q={left:l*e/a,top:m*b/c,width:l/a,height:m/c},C={left:0,top:0,width:0,height:0},p={left:-l*e/a+d.marginLeft,top:-m*b/c+d.marginTop,width:d.width,height:d.height};u.push({item:f(this),begin:N,end:q,easing:"easeOutBack",
delay:h,duration:k});C&&u.push({item:f(this).find("img"),begin:C,end:p,easing:"easeOutBack",delay:h,duration:k})}),R.delay(.1*H).animate({opacity:1},.2*H,"easeInCirc"));ba(u,L);return{stop:function(){L()}}}function Y(a,b,d,C){var L=(parseInt(a.parent().css("z-index"))||0)+1;if(S){L=C.getContext("2d");L.drawImage(a.get(0),0,0,b.width,b.height);var l;a:if(a=C.width,b=C.height,isNaN(d)||1>d)l=void 0;else{d|=0;try{l=L.getImageData(0,0,a,b)}catch(m){console.log("error:unable to access image data: "+m);
l=!1;break a}var h=l.data,c,v,e,k,t,z,p,u,y,r,w,n,x,q,F,I,J,K,A;c=d+d+1;var D=a-1,B=b-1,G=d+1,E=G*(G+1)/2,H=new Z,g=H;for(e=1;e<c;e++)if(g=g.next=new Z,e==G)var M=g;g.next=H;g=e=null;z=t=0;var O=da[d],P=ea[d];for(v=0;v<b;v++){x=q=F=p=u=y=0;r=G*(I=h[t]);w=G*(J=h[t+1]);n=G*(K=h[t+2]);p+=E*I;u+=E*J;y+=E*K;g=H;for(e=0;e<G;e++)g.r=I,g.g=J,g.b=K,g=g.next;for(e=1;e<G;e++)k=t+((D<e?D:e)<<2),p+=(g.r=I=h[k])*(A=G-e),u+=(g.g=J=h[k+1])*A,y+=(g.b=K=h[k+2])*A,x+=I,q+=J,F+=K,g=g.next;e=H;g=M;for(c=0;c<a;c++)h[t]=
p*O>>P,h[t+1]=u*O>>P,h[t+2]=y*O>>P,p-=r,u-=w,y-=n,r-=e.r,w-=e.g,n-=e.b,k=z+((k=c+d+1)<D?k:D)<<2,x+=e.r=h[k],q+=e.g=h[k+1],F+=e.b=h[k+2],p+=x,u+=q,y+=F,e=e.next,r+=I=g.r,w+=J=g.g,n+=K=g.b,x-=I,q-=J,F-=K,g=g.next,t+=4;z+=a}for(c=0;c<a;c++){q=F=x=u=y=p=0;t=c<<2;r=G*(I=h[t]);w=G*(J=h[t+1]);n=G*(K=h[t+2]);p+=E*I;u+=E*J;y+=E*K;g=H;for(e=0;e<G;e++)g.r=I,g.g=J,g.b=K,g=g.next;k=a;for(e=1;e<=d;e++)t=k+c<<2,p+=(g.r=I=h[t])*(A=G-e),u+=(g.g=J=h[t+1])*A,y+=(g.b=K=h[t+2])*A,x+=I,q+=J,F+=K,g=g.next,e<B&&(k+=a);t=
c;e=H;g=M;for(v=0;v<b;v++)k=t<<2,h[k]=p*O>>P,h[k+1]=u*O>>P,h[k+2]=y*O>>P,p-=r,u-=w,y-=n,r-=e.r,w-=e.g,n-=e.b,k=c+((k=v+G)<B?k:B)*a<<2,p+=x+=e.r=h[k],u+=q+=e.g=h[k+1],y+=F+=e.b=h[k+2],e=e.next,r+=I=g.r,w+=J=g.g,n+=K=g.b,x-=I,q-=J,F-=K,g=g.next,t+=a}L.putImageData(l,0,0);l=!0}return l?f(C):0}C=f("<div></div>").css({position:"absolute","z-index":L,left:0,top:0,overflow:"hidden"}).css(b).appendTo(W);l=(Math.sqrt(5)+1)/2;M=1-l/2;for(k=0;M*k<d;k++)h=Math.PI*l*k,B=M*k+1,b=B*Math.cos(h),h=B*Math.sin(h),f(document.createElement("img")).attr("src",
a.attr("src")).css({opacity:1/(k/1.8+1),position:"absolute","z-index":L,left:Math.round(b)+"px",top:Math.round(h)+"px",width:"100%",height:"100%"}).appendTo(C);return C}function Z(){this.a=this.b=this.g=this.r=0;this.next=null}var f=jQuery,fa=f(this),n=D.distance||5,a=D.cols,c=D.rows,H=2*D.duration,ga=D.blur||50;v.find(".ws_list");var T=f("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),W=T.clone().css("overflow","hidden");T.addClass("ws_effect ws_seven");var S=!D.noCanvas&&
!window.opera&&!!document.createElement("canvas").getContext,A,z=f("<div>").addClass("ws_parts").css({position:"absolute",width:"100%",height:"100%",left:0,top:0,zIndex:8,transform:"translate3d(0,0,0)"}),R=f("<div>").addClass("ws_zoom").css({position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:2,transform:"translate3d(0,0,0)"});T.append(z,R,W).appendTo(v);var B={t:f(window).scrollTop(),l:f(window).scrollLeft(),w:f(window).width(),h:f(window).height()};v=Math.max((D.width||z.width())/
(D.height||z.height())||3,3);var a=a||Math.round(1>v?3:3*v),c=c||Math.round(1>v?3/v:3),U=[],V=[];for(v=0;v<a*c;v++)f(U[v]=f("<div>")[0]).css({position:"absolute",overflow:"hidden",transform:"translate3d(0,0,0)"}).appendTo(z).append(f("<img>").css({position:"absolute",transform:"translate3d(0,0,0)"})),f(V[v]=f("<div>")[0]).css({position:"absolute",overflow:"hidden",transform:"translate3d(0,0,0)"}).appendTo(R).append(f("<img>").css({position:"absolute",transform:"translate3d(0,0,0)"}));U=f(U);V=f(V);
jQuery.extend(jQuery.easing,{easeOutQuart:function(a,b,d,f,c){return-f*((b=b/c-1)*b*b*b-1)+d},easeInExpo:function(a,b,d,f,c){return 0==b?d:f*Math.pow(2,10*(b/c-1))+d},easeInCirc:function(a,b,d,f,c){return-f*(Math.sqrt(1-(b/=c)*b)-1)+d}});var X;this.go=function(a,b,d){if(X)return b;void 0==d&&(d=0==b&&a!=b+1||a==b-1?!1:!0);B.t=f(window).scrollTop();B.l=f(window).scrollLeft();B.w=f(window).width();B.h=f(window).height();var c=f(M.get(b)),c={width:c.width(),height:c.height(),marginTop:parseFloat(c.css("marginTop")),
marginLeft:parseFloat(c.css("marginLeft"))};U.find("img").attr("src",M.get(d?b:a).src);V.find("img").attr("src",M.get(a).src);z.show();d&&R.show();var n=0;if(d){if(S){try{document.createElement("canvas").getContext("2d").getImageData(0,0,1,1)}catch(l){S=0}A='<canvas width="'+T.width+'" height="'+T.height+'"/>';A=f(A).css({"z-index":1,position:"absolute",left:0,top:0}).css(c).appendTo(W);n=Y(f(M.get(b)),c,ga,A.get(0))}S&&n||(S=0,n=Y(f(M.get(b)),c,8),A&&(A.remove(),A=0))}X=new ca(U,V,c,d,function(){fa.trigger("effectEnd");
z.hide();R.hide();A?A.remove():n&&n.remove();X=0})};var da=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,
335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,
297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ea=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,
23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]};
